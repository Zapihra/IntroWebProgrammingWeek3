{"version":3,"sources":["src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["require","fetch","then","response","json","data","towns","dataset","dimension","Alue","category","label","values","value","body","document","getElementById","getElementsByTagName","oTowns","Object","i","length","row","insertRow","cell1","insertCell","cell2","innerHTML","response2","employments","table","rows","person","cells","innerText","pr","Number","toFixed","style","backgroundColor","catch","errorMsg","console","log","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module"],"mappings":"ACAA,ACAA,IDAI4C,ACAAY,MAAM,GDAG,ACAAxD,GDAG,IAAI,ACAA,CAAC,cAAc,CAAC;ADCpC,ACCA,SDDS6C,ACCAY,UAAUA,CAACC,IAAI,EAAE,CDDCb,CAAA,EAAG;ADD9B7C,ECEE,ACCA,IDDI,ACCA2D,CDDCf,ADFP,MEGa,GDDG,ACCAc,EDDE,ECCE,CAACE,SAAS,CAAC,CAAC;AFAhC3D,EECE0D,EDDEf,CDAC,CAAC,GECG,CAACiB,GDDG,GAAGf,ACCA,GAAG,SDDS,CAAC,CAAC,CCCC,8CFD8C,CAAC,CAC3E5C,IAAI,CAAC,UAAAC,QAAQ;ECAd,ADAc,EECZuD,IAAI,CAACI,AFDW3D,MECL,CAAC,CAAC,AFDW,CAACC,IAAI,CAAC,CAAC;AAAA,ECEjC,ACAA,AFFkC,CEEjC,AFDAF,IAAI,CAAC,CCCC0C,SAAS,ADDVvC,IAAI,EAAI;ACEhB,ECAEsD,AFDE,IAAMrD,GECD,CAACyD,CFDK,GECD,AFDI1D,GECDqD,CFDK,CAACnD,EECF,CAACwD,IAAI,AFDI,CECHC,AFDIxD,KECC,CAAC,GAAG,AFDI,CECH,AFDIC,CECH,CAAC,CAAC,CFDK,CAACC,CECH,GAAG,GAAGuD,CFDK,CAACtD,EECF,CAACuD,EFDM,CECH,CAAC,CAAC;ADE3D,ECDER,AFDE,IECE,AFDI9C,CECHuD,EDCErB,GDFO,GAAGzC,EECF,CAAC+D,CFDK,CAAC7D,CCEHuC,CAAA,EAAG,GDFO,CAACjC,EECF,CAAC8C,EFDM,KECC,EAAED,IAAI,CAACW,WAAW,CAAC;AACzD,EDCE,ADFE,IAAMvD,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,oBAAoB,CAAC,OAAO,CAAC;AEG/E,EDAE,ADFE,EEEAqD,EDAE,ADFIpD,MAAM,EEEF,CFFKC,EEEF,IAAI,AFFI,CAACP,MAAM,CAACN,KAAK,CAAC;AEGvC,EFAI,ECAA,GDAK,EEAAiE,CDAC,CDAGnD,CAAC,ECAA2B,CDAG,CAAC,EEAAwB,AFAEnD,CCAD,ACAD,AFAG,CCAH,CAAC,ACAE,CFAGF,MAAM,CAACG,MAAM,EAAED,CAA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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["import \"./styles.css\";\n\n\nfetch(\"https://statfin.stat.fi/PxWeb/sq/4e244893-7761-4c4f-8e55-7a8d41d86eff\")\n  .then(response => response.json())\n  .then(data => {\n    const towns = data.dataset.dimension.Alue.category.label;\n    const values = data.dataset.value;\n    const body = document.getElementById(\"table\").getElementsByTagName(\"tbody\");\n    const oTowns = Object.values(towns);\n    \n      \n    for (let i = 0; i < oTowns.length; i++) {\n      \n      const row = body[0].insertRow(-1);\n      \n      const cell1 = row.insertCell(0);\n      const cell2 = row.insertCell(1);\n\n      cell1.innerHTML = oTowns[i];\n      cell2.innerHTML = values[i];\n      \n    }\n    //had problems that the second data wasn't always loading\n    //https://stackoverflow.com/questions/40981040/using-a-fetch-inside-another-fetch-in-javascript\n    return fetch(\"https://statfin.stat.fi/PxWeb/sq/5e288b40-f8c8-4f1e-b3b0-61b86ce5c065\");\n  })\n  .then(response2 => response2.json())\n  .then(data => {\n\n    const employments = data.dataset.value;\n\n    const table = document.getElementById(\"table\");\n    const row = table.rows;\n\n    for (let i = 1; i-1 < employments.length; i++) {\n\n      const cell1 = row[i].insertCell(2);\n      const cell2 = row[i].insertCell(-1);\n\n      cell1.innerHTML = employments[i-1];\n\n      const person = row[i].cells[1].innerText;\n\n      const pr = (Number(employments[i-1])/Number(person)*100).toFixed(2);\n\n      cell2.innerHTML = pr + \"%\";\n      \n      if (pr > 45) {\n        row[i].style.backgroundColor = \"#abffbd\";\n      }\n      else if (pr < 25) {\n        row[i].style.backgroundColor = \"#ff9e9e\"\n      }\n\n    }\n  })\n  .catch((errorMsg) => {\n    console.log(errorMsg);\n  });\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}